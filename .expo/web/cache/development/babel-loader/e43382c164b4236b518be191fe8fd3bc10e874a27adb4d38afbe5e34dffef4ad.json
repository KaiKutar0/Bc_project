{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useEffect, useState } from \"react\";\nimport { styles } from \"../styles/styles\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport DrawingItem from \"../components/DrawingItem\";\nimport { useTranslation } from \"react-i18next\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nfunction DocumentationScreen() {\n  var _useState = useState([]),\n    _useState2 = _slicedToArray(_useState, 2),\n    data = _useState2[0],\n    setData = _useState2[1];\n  var _useState3 = useState(\"\"),\n    _useState4 = _slicedToArray(_useState3, 2),\n    term = _useState4[0],\n    setTerm = _useState4[1];\n  var _useTranslation = useTranslation(),\n    t = _useTranslation.t;\n  useEffect(function () {\n    fetch(`http://127.0.0.1:5000/drawing/?term=${encodeURIComponent(term)}`).then(function (response) {\n      console.log(\"Response text:\", response.text());\n      response.json();\n    }).then(function (data) {\n      console.log(\"Parsed JSON data:\", data);\n      setData(data.drawings);\n    }).catch(function (error) {\n      return console.error(error);\n    });\n    console.log(data);\n  }, [term]);\n  return _jsxs(SafeAreaView, {\n    style: styles.app,\n    children: [_jsx(TextInput, {\n      style: styles.search,\n      onChangeText: setTerm,\n      value: term,\n      placeholder: t(\"search\") + \"...\"\n    }), _jsx(FlatList, {\n      style: {\n        display: \"flex\",\n        flex: 1\n      },\n      data: term === \"\" ? data : data.filter(function (i) {\n        return i[1].includes(term.toLowerCase());\n      }),\n      keyExtractor: function keyExtractor(_, index) {\n        return index.toString();\n      },\n      renderItem: function renderItem(_ref) {\n        var item = _ref.item;\n        return _jsx(DrawingItem, {\n          item: {\n            id: item[0],\n            name: item[1],\n            image: item[2]\n          }\n        });\n      }\n    })]\n  });\n}\nexport default DocumentationScreen;","map":{"version":3,"names":["React","useEffect","useState","styles","FlatList","SafeAreaView","TextInput","DrawingItem","useTranslation","jsx","_jsx","jsxs","_jsxs","DocumentationScreen","_useState","_useState2","_slicedToArray","data","setData","_useState3","_useState4","term","setTerm","_useTranslation","t","fetch","encodeURIComponent","then","response","console","log","text","json","drawings","catch","error","style","app","children","search","onChangeText","value","placeholder","display","flex","filter","i","includes","toLowerCase","keyExtractor","_","index","toString","renderItem","_ref","item","id","name","image"],"sources":["/home/yurii/VSProjects/bakalarka/BCv2/bc-frontend/src/screens/DocumentaionScreen.tsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { styles } from \"../styles/styles\";\nimport { FlatList, SafeAreaView, TextInput } from \"react-native\";\nimport DrawingItem from \"../components/DrawingItem\";\nimport { useTranslation } from \"react-i18next\";\n\ntype Drawing = {\n  id: string;\n  name: string;\n  image: string;\n};\n\nfunction DocumentationScreen() {\n  const [data, setData] = useState<Drawing[]>([]);\n  const [term, setTerm] = useState(\"\");\n  const { t } = useTranslation();\n\n  useEffect(() => {\n    fetch(\n      `http://127.0.0.1:5000/drawing/?term=${encodeURIComponent(\n        term\n      )}` /*{ method: \"GET\" }*/\n    )\n      .then((response) => {\n        console.log(\"Response text:\", response.text());\n        response.json();\n      })\n      .then((data) => {\n        console.log(\"Parsed JSON data:\", data);\n        setData(data.drawings);\n      })\n      .catch((error) => console.error(error));\n    console.log(data);\n  }, [term]);\n\n  return (\n    <SafeAreaView style={styles.app}>\n      <TextInput\n        style={styles.search}\n        onChangeText={setTerm}\n        value={term}\n        placeholder={t(\"search\") + \"...\"}\n      />\n      <FlatList\n        style={{ display: \"flex\", flex: 1 /*backgroundColor: \"gray\"*/ }}\n        data={\n          term === \"\"\n            ? data\n            : data.filter((i) => i[1].includes(term.toLowerCase()))\n        }\n        keyExtractor={(_, index) => index.toString()}\n        renderItem={({ item }) => (\n          <DrawingItem\n            item={{\n              id: item[0],\n              name: item[1],\n              image: item[2],\n            }}\n          />\n        )}\n      />\n    </SafeAreaView>\n  );\n}\n\nexport default DocumentationScreen;\n"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAClD,SAASC,MAAM;AAA2B,OAAAC,QAAA;AAAA,OAAAC,YAAA;AAAA,OAAAC,SAAA;AAE1C,OAAOC,WAAW;AAClB,SAASC,cAAc,QAAQ,eAAe;AAAC,SAAAC,GAAA,IAAAC,IAAA;AAAA,SAAAC,IAAA,IAAAC,KAAA;AAQ/C,SAASC,mBAAmBA,CAAA,EAAG;EAC7B,IAAAC,SAAA,GAAwBZ,QAAQ,CAAY,EAAE,CAAC;IAAAa,UAAA,GAAAC,cAAA,CAAAF,SAAA;IAAxCG,IAAI,GAAAF,UAAA;IAAEG,OAAO,GAAAH,UAAA;EACpB,IAAAI,UAAA,GAAwBjB,QAAQ,CAAC,EAAE,CAAC;IAAAkB,UAAA,GAAAJ,cAAA,CAAAG,UAAA;IAA7BE,IAAI,GAAAD,UAAA;IAAEE,OAAO,GAAAF,UAAA;EACpB,IAAAG,eAAA,GAAcf,cAAc,CAAC,CAAC;IAAtBgB,CAAC,GAAAD,eAAA,CAADC,CAAC;EAETvB,SAAS,CAAC,YAAM;IACdwB,KAAK,CACF,uCAAsCC,kBAAkB,CACvDL,IACF,CAAE,EACJ,CAAC,CACEM,IAAI,CAAC,UAACC,QAAQ,EAAK;MAClBC,OAAO,CAACC,GAAG,CAAC,gBAAgB,EAAEF,QAAQ,CAACG,IAAI,CAAC,CAAC,CAAC;MAC9CH,QAAQ,CAACI,IAAI,CAAC,CAAC;IACjB,CAAC,CAAC,CACDL,IAAI,CAAC,UAACV,IAAI,EAAK;MACdY,OAAO,CAACC,GAAG,CAAC,mBAAmB,EAAEb,IAAI,CAAC;MACtCC,OAAO,CAACD,IAAI,CAACgB,QAAQ,CAAC;IACxB,CAAC,CAAC,CACDC,KAAK,CAAC,UAACC,KAAK;MAAA,OAAKN,OAAO,CAACM,KAAK,CAACA,KAAK,CAAC;IAAA,EAAC;IACzCN,OAAO,CAACC,GAAG,CAACb,IAAI,CAAC;EACnB,CAAC,EAAE,CAACI,IAAI,CAAC,CAAC;EAEV,OACET,KAAA,CAACP,YAAY;IAAC+B,KAAK,EAAEjC,MAAM,CAACkC,GAAI;IAAAC,QAAA,GAC9B5B,IAAA,CAACJ,SAAS;MACR8B,KAAK,EAAEjC,MAAM,CAACoC,MAAO;MACrBC,YAAY,EAAElB,OAAQ;MACtBmB,KAAK,EAAEpB,IAAK;MACZqB,WAAW,EAAElB,CAAC,CAAC,QAAQ,CAAC,GAAG;IAAM,CAClC,CAAC,EACFd,IAAA,CAACN,QAAQ;MACPgC,KAAK,EAAE;QAAEO,OAAO,EAAE,MAAM;QAAEC,IAAI,EAAE;MAA8B,CAAE;MAChE3B,IAAI,EACFI,IAAI,KAAK,EAAE,GACPJ,IAAI,GACJA,IAAI,CAAC4B,MAAM,CAAC,UAACC,CAAC;QAAA,OAAKA,CAAC,CAAC,CAAC,CAAC,CAACC,QAAQ,CAAC1B,IAAI,CAAC2B,WAAW,CAAC,CAAC,CAAC;MAAA,EACzD;MACDC,YAAY,EAAE,SAAAA,aAACC,CAAC,EAAEC,KAAK;QAAA,OAAKA,KAAK,CAACC,QAAQ,CAAC,CAAC;MAAA,CAAC;MAC7CC,UAAU,EAAE,SAAAA,WAAAC,IAAA;QAAA,IAAGC,IAAI,GAAAD,IAAA,CAAJC,IAAI;QAAA,OACjB7C,IAAA,CAACH,WAAW;UACVgD,IAAI,EAAE;YACJC,EAAE,EAAED,IAAI,CAAC,CAAC,CAAC;YACXE,IAAI,EAAEF,IAAI,CAAC,CAAC,CAAC;YACbG,KAAK,EAAEH,IAAI,CAAC,CAAC;UACf;QAAE,CACH,CAAC;MAAA;IACF,CACH,CAAC;EAAA,CACU,CAAC;AAEnB;AAEA,eAAe1C,mBAAmB"},"metadata":{},"sourceType":"module","externalDependencies":[]}