{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useState, useEffect, useRef } from \"react\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport Constants from \"expo-constants\";\nimport { Camera, CameraType, FlashMode } from \"expo-camera\";\nimport * as MediaLibrary from \"expo-media-library\";\nimport CameraButton from \"../components/CameraButton\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nfunction CameraScreen() {\n  var _useState = useState(null),\n    _useState2 = _slicedToArray(_useState, 2),\n    hasCameraPermission = _useState2[0],\n    setHasCameraPermission = _useState2[1];\n  var _useState3 = useState(null),\n    _useState4 = _slicedToArray(_useState3, 2),\n    image = _useState4[0],\n    setImage = _useState4[1];\n  var _useState5 = useState(CameraType.back),\n    _useState6 = _slicedToArray(_useState5, 2),\n    type = _useState6[0],\n    setType = _useState6[1];\n  var _useState7 = useState(FlashMode.auto),\n    _useState8 = _slicedToArray(_useState7, 2),\n    flash = _useState8[0],\n    setFlash = _useState8[1];\n  var cameraRef = useRef(null);\n  useEffect(function () {\n    _asyncToGenerator(function* () {\n      MediaLibrary.requestPermissionsAsync();\n      var cameraStatus = yield Camera.requestCameraPermissionsAsync();\n      setHasCameraPermission(cameraStatus.status === \"granted\");\n    })();\n  }, []);\n  var takePicture = function () {\n    var _ref2 = _asyncToGenerator(function* () {\n      if (cameraRef) {\n        try {\n          var data = yield cameraRef.current.takePictureAsync();\n          console.log(data);\n          setImage(data.uri);\n        } catch (error) {\n          console.log(error);\n        }\n      }\n    });\n    return function takePicture() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n  var savePicture = function () {\n    var _ref3 = _asyncToGenerator(function* () {\n      if (image) {\n        try {\n          var asset = yield MediaLibrary.createAssetAsync(image);\n          alert(\"Picture saved! ðŸŽ‰\");\n          setImage(null);\n          console.log(\"saved successfully\");\n        } catch (error) {\n          console.log(error);\n        }\n      }\n    });\n    return function savePicture() {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n  if (hasCameraPermission === false) {\n    return _jsx(Text, {\n      children: \"No access to camera\"\n    });\n  }\n  return _jsxs(View, {\n    style: styles.container,\n    children: [!image ? _jsx(Camera, {\n      style: styles.camera,\n      type: type,\n      ref: cameraRef,\n      flashMode: flash,\n      children: _jsx(View, {\n        style: {\n          flexDirection: \"row\",\n          justifyContent: \"space-between\",\n          paddingHorizontal: 30\n        },\n        children: _jsx(CameraButton, {})\n      })\n    }) : _jsx(Image, {\n      source: {\n        uri: image\n      },\n      style: styles.camera\n    }), _jsx(View, {\n      style: styles.controls,\n      children: _jsx(View, {\n        style: {\n          flexDirection: \"row\",\n          justifyContent: \"space-between\",\n          paddingHorizontal: 50\n        }\n      })\n    })]\n  });\n}\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    justifyContent: \"center\",\n    paddingTop: Constants.statusBarHeight,\n    backgroundColor: \"#000\",\n    padding: 8\n  },\n  controls: {\n    flex: 0.5\n  },\n  button: {\n    height: 40,\n    borderRadius: 6,\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    justifyContent: \"center\"\n  },\n  text: {\n    fontWeight: \"bold\",\n    fontSize: 16,\n    color: \"#E9730F\",\n    marginLeft: 10\n  },\n  camera: {\n    flex: 5,\n    borderRadius: 20\n  },\n  topControls: {\n    flex: 1\n  }\n});\nexport default CameraScreen;","map":{"version":3,"names":["React","useState","useEffect","useRef","Text","View","StyleSheet","Image","Constants","Camera","CameraType","FlashMode","MediaLibrary","CameraButton","jsx","_jsx","jsxs","_jsxs","CameraScreen","_useState","_useState2","_slicedToArray","hasCameraPermission","setHasCameraPermission","_useState3","_useState4","image","setImage","_useState5","back","_useState6","type","setType","_useState7","auto","_useState8","flash","setFlash","cameraRef","_asyncToGenerator","requestPermissionsAsync","cameraStatus","requestCameraPermissionsAsync","status","takePicture","_ref2","data","current","takePictureAsync","console","log","uri","error","apply","arguments","savePicture","_ref3","asset","createAssetAsync","alert","children","style","styles","container","camera","ref","flashMode","flexDirection","justifyContent","paddingHorizontal","source","controls","create","flex","paddingTop","statusBarHeight","backgroundColor","padding","button","height","borderRadius","alignItems","text","fontWeight","fontSize","color","marginLeft","topControls"],"sources":["/home/yurii/VSProjects/bakalarka/BCv2/bc-frontend/src/screens/CameraScreen.tsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from \"react\";\nimport { Text, View, StyleSheet, TouchableOpacity, Image } from \"react-native\";\nimport Constants from \"expo-constants\";\nimport { Camera, CameraType, FlashMode } from \"expo-camera\";\nimport * as MediaLibrary from \"expo-media-library\";\nimport CameraButton from \"../components/CameraButton\";\n\nfunction CameraScreen() {\n  const [hasCameraPermission, setHasCameraPermission] = useState(null);\n  const [image, setImage] = useState(null);\n  const [type, setType] = useState(CameraType.back);\n  const [flash, setFlash] = useState(FlashMode.auto);\n  const cameraRef = useRef(null);\n\n  useEffect(() => {\n    (async () => {\n      MediaLibrary.requestPermissionsAsync();\n      const cameraStatus = await Camera.requestCameraPermissionsAsync();\n      setHasCameraPermission(cameraStatus.status === \"granted\");\n    })();\n  }, []);\n\n  const takePicture = async () => {\n    if (cameraRef) {\n      try {\n        const data = await cameraRef.current.takePictureAsync();\n        console.log(data);\n        setImage(data.uri);\n      } catch (error) {\n        console.log(error);\n      }\n    }\n  };\n\n  const savePicture = async () => {\n    if (image) {\n      try {\n        const asset = await MediaLibrary.createAssetAsync(image);\n        alert(\"Picture saved! ðŸŽ‰\");\n        setImage(null);\n        console.log(\"saved successfully\");\n      } catch (error) {\n        console.log(error);\n      }\n    }\n  };\n\n  if (hasCameraPermission === false) {\n    return <Text>No access to camera</Text>;\n  }\n\n  return (\n    <View style={styles.container}>\n      {!image ? (\n        <Camera\n          style={styles.camera}\n          type={type}\n          ref={cameraRef}\n          flashMode={flash}\n        >\n          <View\n            style={{\n              flexDirection: \"row\",\n              justifyContent: \"space-between\",\n              paddingHorizontal: 30,\n            }}\n          >\n            <CameraButton />\n          </View>\n        </Camera>\n      ) : (\n        <Image source={{ uri: image }} style={styles.camera} />\n      )}\n\n      <View style={styles.controls}>\n        <View\n          style={{\n            flexDirection: \"row\",\n            justifyContent: \"space-between\",\n            paddingHorizontal: 50,\n          }}\n        ></View>\n      </View>\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    justifyContent: \"center\",\n    paddingTop: Constants.statusBarHeight,\n    backgroundColor: \"#000\",\n    padding: 8,\n  },\n  controls: {\n    flex: 0.5,\n  },\n  button: {\n    height: 40,\n    borderRadius: 6,\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n  text: {\n    fontWeight: \"bold\",\n    fontSize: 16,\n    color: \"#E9730F\",\n    marginLeft: 10,\n  },\n  camera: {\n    flex: 5,\n    borderRadius: 20,\n  },\n  topControls: {\n    flex: 1,\n  },\n});\n\nexport default CameraScreen;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}